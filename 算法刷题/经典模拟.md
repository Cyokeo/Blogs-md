---
title: 经典模拟
categories: 刷题记录
---
#### [2332. 坐上公交的最晚时间](https://leetcode.cn/problems/the-latest-time-to-catch-a-bus/)
- [灵神解法真的很巧妙](https://leetcode.cn/problems/the-latest-time-to-catch-a-bus/solutions/1658352/pai-xu-by-endlesscheng-h9w9)
	- 因为要使用最后一个装了多少，巧妙的把它放在循环里面
	- 因为要找到最后一个上车的，也是直接使用前面模拟的结果
	- 寻找插队位置时更是如此：
```cpp
class Solution
{ 
public:
	int latestTimeCatchTheBus(vector<int>& buses,
			vector<int>& passengers, int capacity)
	{ 
		ranges::sort(buses);
		ranges::sort(passengers);
		// 模拟乘客上车
		int j = 0, c;
		for (int t : buses)
		{
			for (c = capacity; c && j < passengers.size()
				 && passengers[j] <= t; c--)
			{ j++; }
		}
		// 寻找插队时机
		j--;
		int ans = c ? buses.back() : passengers[j];
		while (j >= 0 && ans == passengers[j])
		{
			ans--;
			// 往前找没人到达的时刻
			j--;
		}
		return ans;
	}
};
```