---
title: LW-DDS (ä¸€)
categories: åµŒå…¥å¼-å¼€å‘
---
## stack-refactor åˆ†æ”¯ ç®€è¦è¯´æ˜Ž
1. æœŸæœ›å®žçŽ°æ”¯æŒå¤šparticipantï¼Œå¤šæ ¸å¤šçº¿ç¨‹ã€‚é™åˆ¶ðŸš«å¦‚ä¸‹ï¼š
	- æ¯ä¸ªppæœ‰ä¸€ä¸ªæŽ¥æ”¶çº¿ç¨‹ï¼›åŽç»­åº”è¯¥ä¹Ÿè¦æœ‰ä¸€ä¸ªtimerçº¿ç¨‹
	- æ¯ä¸ªppåªä¼šç›‘å¬ä¸¤ä¸ªåœ°å€ï¼š
		1. well-known address: 239.255.0.1:7400 -> å¯ä»¥é…ç½®ä¸ç›‘å¬
		2. specific unicast address
2. ðŸˆ²æ­¢æ‰€æœ‰çš„å†…å­˜åŠ¨æ€ç”³è¯·ä¸Žé‡Šæ”¾
	- Linuxç­‰å¹³å°ä¸‹ï¼Œsem/mutexç­‰è¿˜æ˜¯ä¼šä½¿ç”¨åˆ°å †ä¸Šå†…å­˜
	- ä½†æ˜¯MCUå¹³å°ï¼ŒAUTOSAR/FreeRTOSå°†å…¨é¢ç¦ç”¨æ‰€æœ‰åŠ¨æ€å†…å­˜ç”³è¯·ä¸Žé‡Šæ”¾
3. æ›´æ”¹æ•°æ®ç»“æž„ï¼Œå…¨é¢å‚è€ƒAUTOSARï¼Œä»…ä½¿ç”¨æ•°ç»„è¿›è¡Œ
	- å­˜å‚¨participants, writers, readers
	- å­˜å‚¨è¿œç«¯å‚ä¸Žè€…ã€å®žä½“
4. å¢žåŠ ç®€æ˜“å¼€æºlogç»„ä»¶ï¼Œæ–¹ä¾¿åŽç»­log

## 24-10-01åˆ†æ”¯æ›´æ–°è¯´æ˜Ž
1. å½“å‰é‡æž„ä»…è¿›å±•åˆ°ï¼š
	- æŽ¥æ”¶RTPS Msgï¼Œå¹¶å¯¹RTPS Headerè¿›è¡Œå¤„ç†
3. æä¾›äº†ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼Œ`main`ä¸ºä¸»å…¥å£ï¼›å¯ä»¥ç®€å•è¿è¡Œï¼Œå¹¶å¤„ç†æŽ¥æ”¶åˆ°çš„RTPS Msgï¼Œ ä½†æ˜¯åªèƒ½å¤„ç†å¤´éƒ¨
4. åŽç»­æ­¥éª¤
	1. process_cdrï¼Œå®Œæˆæ•°æ®å­æ¶ˆæ¯çš„å¤„ç†
	2. å‘çŽ°é˜¶æ®µSPDP -> SEDP
	3. ......